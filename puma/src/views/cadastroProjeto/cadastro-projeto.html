<body>
  <div class='title'>
    {{operacao === 'visualizar'?'Visualização de Projeto':'Nova proposta'}}
  </div>

  <div class='forms'>
    <input type="text" id="titulo" v-model="titulo.val" placeholder="Qual é o título da proposta de projeto?"
      :disabled=isLoading class="input-field">

    <textarea id="descricao" placeholder="Qual a proposta do projeto?" rows="7" v-model="descricao.val"
      maxlength="10000" :disabled=isLoading class="input-field">
      </textarea>

    <textarea id="resultado" placeholder="Qual resultado espera ter?" rows="5" v-model="resultadoEsperado.val"
      maxlength="10000" :disabled=isLoading class="input-field"></textarea>
    <div style="width: 20%">
      <multiselect
        :maxHeight="150"
        openDirection="bottom"
        selectLabel=""
        deselectLabel=""
        selectedLabel=""
        track-by="keywordid"
        label="keyword"
        :placeholder="multiSelectPlaceholder"
        v-model="keywordsSelected"
        @input="sortLabels()"
        @open="multiSelectPlaceholder = 'Pesquisar'"
        @close="multiSelectPlaceholder = 'Selecione'"
        :options="keywords"
        :max="3"
        :loading="isLoadingKeywords"
        :disabled="isLoadingKeywords || !keywords.length"
        :multiple="true"
        :searchable="true"
        :closeOnSelect="false">
        <span style="display: block" class="checkbox-label" slot="option" slot-scope="scope">
          {{ scope.option.keyword }}
          <input class="test" type="checkbox" :checked="isChecked(scope.option)" @focus.prevent :key="scope.option.keywordid"/>
        </span>
      </multiselect>
      <pre>{{ this.keywordsSelected }}</pre>
    </div>


  </div>
  <div class="form-row" v-if="operacao !== 'visualizar'">
    <input value="Submeter" v-if="!isLoading" type="submit" class="btn btn-warning submit-btn" @click="submitForm"/>
  </div>
</body>
